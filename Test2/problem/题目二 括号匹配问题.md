题目二 括号匹配问题
【问题描述】
设一个表达式中可以包含三种括号：“(”和“)”、“[”和“]”、“{”和“}”，并且这三种括号可以按照任意
的次序嵌套使用，考查表达式中的括号是否匹配。
【基本要求】
写一个程序，判断给定表达式中的括号是否匹配。
【测试数据】
有多个表达式，每个表达式（不超过 100 个字符）占一行。例如，
[(d+f)*{}2]
[(2+3))
()}
[4(6]7)9
【实现提示】
自左至右扫描表达式，若遇左括号，则将左括号入栈，若遇右括号，则将其与栈顶的左括号进行
匹配，若配对，则栈顶的左括号出栈，否则出现括号不匹配错误。
程序运行时，对输入的每个表达式，判断其括号匹配情况。若其中的括号是匹配的，则输出“yes”，
否则输出“no”。 【算法】
Status CheckBrackts(char *expr)
{//表达式作为字符串保存在 expr 中，括号完全匹配时返回 OK，否则返回 ERROR
InitStack(S); // 构造一个空栈，用于暂存左括号;
for(i = 0; expr[i]!='\0'; i++) { // 逐个考查表达式中的字符，忽略非括号字符
if (expr[i]=='(' || expr[i]=='[' || expr[i]=='{' )
push(S, expr [i]); // 遇到左括号时，令左括号入栈
else
if (expr[i]==')' || expr[i]==']' || expr[i]=='}' ) {// 遇到右括号时，判断匹配情况
if (StackEmpty(S)) // 遇到右括号时栈为空，即不存在与之匹配的左括号
return ERROR;
else { // 栈中有左括号
Gettop(S,c); // 读取栈顶的左括号（不出栈）
switch (expr[i]) {
case ')': if ( c!= '(' ) // 不匹配：当前括号是“）”，栈顶不是“（”
return ERROR;
break; // 当前的“）”与栈顶的“（”相匹配
case ']': if ( c!= '[' ) // 不匹配：当前括号是“]”，栈顶不是“[”
return ERROR;
break; // 当前的“]”与栈顶的“[” 相匹配
case '}': if ( c!= '{' ) // 不匹配：当前括号是“}”，栈顶不是“{”
9
return ERROR;
break; // 当前的“}”与栈顶的“{” 相匹配
}//switch
pop(S); // 栈顶的左括号出栈
} //if-else
}//if
}//for
if (StackEmpty(S)) return OK; // 已到表达式结尾且栈空，说明所有括号都匹配
return ERROR; // 表达式中的左括号多（留在栈中），右括号少，括号不完全匹配
}